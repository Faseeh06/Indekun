"use client"

import { useState } from "react"

interface FAQItem {
  question: string
  answer: string
}

const faqData: FAQItem[] = [
  {
    question: "What is Indekun and who is it for?",
    answer:
      "Indekun is a Campus Equipment Booking System designed to allow students, faculty, and staff to reserve campus-owned equipment. It reduces manual management, prevents scheduling conflicts, and provides an approval workflow through an administrative panel.",
  },
  {
    question: "How does the equipment booking process work?",
    answer:
      "Users can browse available equipment, submit booking requests with dates, times, and purpose. Administrators review and approve or reject requests. The system automatically prevents overlapping bookings and tracks all equipment reservations.",
  },
  {
    question: "What equipment can I book?",
    answer:
      "You can book various campus-owned equipment including projectors, laptops, cameras, microphones, drones, printers, monitors, and lighting kits. Each equipment item shows availability status, location, and condition.",
  },
  {
    question: "How long does it take to get approval?",
    answer:
      "Administrators review booking requests promptly. You can track your request status in real-time from pending to approved or rejected. Most requests are reviewed within 24-48 hours.",
  },
  {
    question: "Is my booking information secure?",
    answer:
      "Absolutely. We use secure authentication and role-based access control. Your booking data is protected and only accessible to you and authorized administrators. All admin actions are logged for audit purposes.",
  },
  {
    question: "How do I get started with Indekun?",
    answer:
      "Getting started is simple! Log in with your campus credentials, browse available equipment, and submit your first booking request. Our system will guide you through the process step by step.",
  },
]

function ChevronDownIcon({ className }: { className?: string }) {
  return (
    <svg
      className={className}
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m6 9 6 6 6-6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    </svg>
  )
}

export default function FAQSection() {
  const [openItems, setOpenItems] = useState<number[]>([])

  const toggleItem = (index: number) => {
    setOpenItems((prev) => (prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]))
  }

  return (
    <div className="w-full flex justify-center items-start">
      <div className="flex-1 px-4 md:px-12 py-16 md:py-20 flex flex-col lg:flex-row justify-start items-start gap-6 lg:gap-12">
        {/* Left Column - Header */}
        <div className="w-full lg:flex-1 flex flex-col justify-center items-start gap-4 lg:py-5">
          <div className="w-full flex flex-col justify-center text-[#49423D] font-semibold leading-tight md:leading-[44px] font-sans text-4xl tracking-tight">
            Frequently Asked Questions
          </div>
          <div className="w-full text-[#605A57] text-base font-normal leading-7 font-sans">
            Common questions about equipment booking,
            <br className="hidden md:block" />
            reservations, and the approval process.
          </div>
        </div>

        {/* Right Column - FAQ Items */}
        <div className="w-full lg:flex-1 flex flex-col justify-center items-center">
          <div className="w-full flex flex-col">
            {faqData.map((item, index) => {
              const isOpen = openItems.includes(index)

              return (
                <div key={index} className="w-full border-b border-[rgba(73,66,61,0.16)] overflow-hidden">
                  <button
                    onClick={() => toggleItem(index)}
                    className="w-full px-5 py-[18px] flex justify-between items-center gap-5 text-left hover:bg-[rgba(73,66,61,0.02)] transition-colors duration-200"
                    aria-expanded={isOpen}
                  >
                    <div className="flex-1 text-[#49423D] text-base font-medium leading-6 font-sans">
                      {item.question}
                    </div>
                    <div className="flex justify-center items-center">
                      <ChevronDownIcon
                        className={`w-6 h-6 text-[rgba(73,66,61,0.60)] transition-transform duration-300 ease-in-out ${
                          isOpen ? "rotate-180" : "rotate-0"
                        }`}
                      />
                    </div>
                  </button>

                  <div
                    className={`overflow-hidden transition-all duration-300 ease-in-out ${
                      isOpen ? "max-h-96 opacity-100" : "max-h-0 opacity-0"
                    }`}
                  >
                    <div className="px-5 pb-[18px] text-[#605A57] text-sm font-normal leading-6 font-sans">
                      {item.answer}
                    </div>
                  </div>
                </div>
              )
            })}
          </div>
        </div>
      </div>
    </div>
  )
}
